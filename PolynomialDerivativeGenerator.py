import random
def polynomialderivativegenerator(derivative, question, answer, questionsheet, answersheet):
    question.append(str("=" + str("".join([specialcases.replace(" 1 ", "").replace(" -1 ", "-").replace("+ ", "+").replace(" x", "x").replace("^1", "").replace("x^0", "").replace("+-", "-") for specialcases in ["+" + plus for plus in [term for term in [" " + str(derivative[power]) + " x^" + str(power) for power in reversed(range(len(derivative)))] if " 0 x" not in term]]])) + " ").replace("=+", "").replace("=-", "-").replace("+ ", "+1 ").replace("- ", "-1 ")), answer.append(str("=" + str("".join([specialcases.replace(" 1 ", "").replace(" -1 ", "-").replace("+ ", "+").replace(" x", "x").replace("^1", "").replace("x^0", "").replace("+-", "-") for specialcases in ["+" + plus for plus in [term for term in [" " + str(derivative[power] * power) + "x^" + str(power - 1) for power in reversed(range(len(derivative)))] if " 0 x" not in term]]])) + " ").replace("=+", "").replace("=-", "-").replace("+0x^-1 ", ""))
    with open(questionsheet, "a") as f1, open(answersheet, "a") as f2:
        f1.write("\\item $\\displaystyle \\frac{d}{dx}\\, \\," + question[0][:-1] + "=\\cdots$\n"), f2.write("\\item $\\displaystyle " + answer[0] + "$\n")